<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Thư Chúc Mừng 20/10 — Na Lùn 💐</title>
<style>
:root{
  --pink1:#ff66a3; --pink2:#ffb3d9; --bg1:#ffe6f2; --bg2:#fff5fa;
}
*{box-sizing:border-box}
body{
  margin:0; padding:0; font-family:"Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  color:#333; overflow:hidden;
}

/* Fullscreen containers */
.screen{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
}

/* Welcome screen */
#welcome {
  background: linear-gradient(135deg,var(--pink2),#ffe6f2);
  flex-direction:column; transition:opacity .6s ease, transform .6s ease;
}
#welcome.hidden { opacity:0; pointer-events:none; transform:scale(.98); }
.welcome-card{
  text-align:center; padding:36px; border-radius:20px;
  box-shadow:0 10px 40px rgba(0,0,0,0.12); width:min(92%,720px);
}
.welcome-card h1{
  margin:0 0 18px; color:var(--pink1); font-size:2.2rem;
  animation: pulse 1.2s infinite;
}
.welcome-card p{ margin:0 0 18px; color:#5a5a5a; }
.btn {
  display:inline-block; padding:14px 28px; border-radius:14px; border:0;
  font-size:1.05rem; color:white; cursor:pointer;
  background:linear-gradient(90deg,var(--pink1),var(--pink2));
  box-shadow:0 8px 25px rgba(255,86,150,0.18);
  transition:transform .18s ease, box-shadow .18s;
}
.btn:active{ transform:scale(.98) }

/* Letter screen */
#letter { display:none; align-items:center; justify-content:center; }
#letter.visible { display:flex; }
.card {
  width:min(92%,820px); max-width:820px;
  background:white; border-radius:18px; padding:28px 28px 36px;
  box-shadow:0 10px 40px rgba(0,0,0,0.12);
  position:relative; overflow:visible;
}
.card h2{ margin:0 0 12px; color:var(--pink1); font-size:1.6rem; text-align:center;}
.text-line{ font-size:1.05rem; color:#333; margin:12px 0; min-height:1.4em; white-space:pre-wrap; }
footer{ text-align:center; margin-top:14px; color:#666; font-style:italic;}

/* End button + love message */
.bottom { display:flex; gap:12px; align-items:center; justify-content:center; margin-top:18px; }
#endBtn{ padding:12px 22px; border-radius:12px; border:0; background:linear-gradient(90deg,var(--pink1),#ff80b0); color:white; cursor:pointer; font-size:1.05rem; box-shadow:0 8px 25px rgba(255,86,150,0.18); }
#endBtn[disabled]{ opacity:.6; cursor:default; transform:none; box-shadow:none; }
#loveMessage{ display:none; font-size:1.7rem; color:#ff0066; font-weight:700; text-align:center; padding:10px 14px; border-radius:12px; animation: pop .9s ease both; }

/* Hearts */
.heart{ position:fixed; pointer-events:none; user-select:none; will-change:transform,opacity; text-shadow:0 2px 6px rgba(0,0,0,0.12); }

/* Animations */
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
@keyframes pop{0%{transform:scale(.6);opacity:0}60%{transform:scale(1.15);opacity:1}100%{transform:scale(1)}}
@keyframes floatUp{0%{transform:translateY(0) scale(1); opacity:1}70%{opacity:.9}100%{transform:translateY(-110vh) scale(1.4); opacity:0}}
</style>
</head>
<body>

<!-- Welcome screen -->
<div id="welcome" class="screen">
  <div class="welcome-card" role="dialog" aria-labelledby="wTitle">
    <h1 id="wTitle">🎉 Chào Na Lùn! 🎉</h1>
    <p>Ấn nút bên dưới để mở thư béu đã dành riêng cho Na 💌</p>
    <button id="openBtn" class="btn" aria-haspopup="true">Ấn vào đây để mở thư</button>
  </div>
</div>

<!-- Letter screen -->
<div id="letter" class="screen" aria-hidden="true">
  <div class="card" role="main" aria-live="polite">
    <h2>💌 Chào Na Lùn của béu 💌</h2>
    <div id="line1" class="text-line"></div>
    <div id="line2" class="text-line"></div>
    <div id="line3" class="text-line"></div>
    <div id="line4" class="text-line"></div>
    <footer>— Gửi từ: Béu 💖</footer>
    <div class="bottom">
      <button id="endBtn" aria-controls="loveMessage">Ấn vào đây để kết thúc</button>
      <div id="loveMessage" role="status" aria-live="polite">Béu iu Na nhiềuuu 💖💖💖</div>
    </div>
  </div>
</div>

<script>
const LINES = [
`Hôm nay không phải một ngày bình thường đâu, bởi vì hôm nay là ngày mà béu muốn gửi đến Na Lùn những lời chúc ngọt ngào nhất, dễ thương nhất và đầy ắp yêu thương nhất.`,
`Na Lùn ơi, cảm ơn vì luôn là một ánh nắng nhỏ nhưng ấm áp, len lỏi vào thế giới của béu bằng nụ cười, sự dịu dàng và những điều kỳ diệu giản dị. Béu chúc Na Lùn luôn luôn khỏe mạnh, vui vẻ và rạng rỡ như chính cái cách mà Na làm sáng bừng cả ngày của béu. Mong rằng những ước mơ của Na, dù nhỏ xíu hay to bự, đều sẽ thành hiện thực ✨.`,
`Và nhớ nè, dù ở đâu, làm gì, thì Na Lùn vẫn luôn có béu ở bên (dù là qua những lời nhắn nhủ đáng yêu như thế này 😊). Cùng nhau tạo thêm thật nhiều kỷ niệm thiệt đẹp nữa nha!`,
`Bo hy vọng là mình cùng đồng hành với nhau thật lâu nhé hehe 💖`
];

const welcome = document.getElementById('welcome');
const openBtn = document.getElementById('openBtn');
const letter = document.getElementById('letter');
const endBtn = document.getElementById('endBtn');
const loveMessage = document.getElementById('loveMessage');

openBtn.addEventListener('click', () => {
  welcome.classList.add('hidden');
  setTimeout(() => { welcome.style.display = 'none'; }, 600);
  letter.classList.add('visible');
  letter.setAttribute('aria-hidden','false');
  setTimeout(()=> startTypewriter(0), 350);
});

function startTypewriter(index){
  if(index >= LINES.length) return;
  const target = document.getElementById('line'+(index+1));
  target.textContent = '';
  const text = LINES[index];
  let i=0;
  function step(){
    if(i<text.length){
      target.textContent += text.charAt(i);
      i++;
      const nextDelay = text.charAt(i)===' ' ? 8:18;
      setTimeout(step,nextDelay);
    } else {
      setTimeout(()=>startTypewriter(index+1), 350);
    }
  }
  step();
}

endBtn.addEventListener('click', ()=>{
  endBtn.disabled=true;
  loveMessage.style.display='block';
  loveMessage.animate([{transform:'scale(.6)',opacity:0},{transform:'scale(1.15)',opacity:1},{transform:'scale(1)',opacity:1}],{duration:700,easing:'ease-out'});
  burstHearts(40);
  burstBubbles(24);
});

const HEARTS=["❤️","💖","💘","💕","💗","💞","💝"];
function floatingHeart(){
  const el=document.createElement('div');
  el.className='heart';
  el.textContent=HEARTS[Math.floor(Math.random()*HEARTS.length)];
  const size=Math.random()*28+18;
  el.style.fontSize=size+'px';
  el.style.left=(Math.random()*100)+'vw';
  el.style.bottom='-30px';
  const dur=Math.random()*3+4;
  el.animate([{transform:'translateY(0) scale(1)',opacity:1},{transform:'translateY(-110vh) scale(1.3)',opacity:0}],{duration:dur*1000,easing:'linear'});
  setTimeout(()=>{try{el.remove()}catch(e){}},dur*1000+200);
}
setInterval(floatingHeart,700);

function burstHearts(count){
  for(let i=0;i<count;i++){
    setTimeout(()=>{
      const el=document.createElement('div');
      el.className='heart';
      el.textContent=HEARTS[Math.floor(Math.random()*HEARTS.length)];
      const size=Math.random()*36+22;
      el.style.fontSize=size+'px';
      el.style.left=(50+(Math.random()-0.5)*50)+'vw';
      el.style.bottom=(10+Math.random()*30)+'vh';
      document.body.appendChild(el);
      const dur=1500+Math.random()*1200;
      el.animate([{transform:'translateY(0) scale(.8)',opacity:1},{transform:'translateY(-55vh) scale(1.4)',opacity:0}],{duration:dur,easing:'cubic-bezier(.2,.8,.2,1)'});
      setTimeout(()=>{try{el.remove()}catch(e){}},dur+200);
    },i*22);
  }
}

function burstBubbles(count){
  for(let i=0;i<count;i++){
    setTimeout(()=>{
      const bubble=document.createElement('div');
      bubble.className='heart';
      bubble.textContent='•';
      bubble.style.fontSize=(6+Math.random()*18)+'px';
      bubble.style.left=(40+(Math.random()-0.5)*60)+'vw';
      bubble.style.bottom=(10+Math.random()*20)+'vh';
      bubble.style.color='rgba(255,100,150,0.9)';
      document.body.appendChild(bubble);
      const dur=1000+Math.random()*1200;
      bubble.animate([{transform:'translateY(0) scale(1)',opacity:0.95},{transform:'translateY(-45vh) scale(1.4)',opacity:0}],{duration:dur,easing:'ease-out'});
      setTimeout(()=>{try{bubble.remove()}catch(e){}},dur+200);
    },i*30);
  }
}
</script>
</body>
</html>
